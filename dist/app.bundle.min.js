// [¬© ESQIDO LTD. Author: Mathew Chan.]  Build version: 0.2.6 - Friday, May 29th, 2020, 2:12:35 PM  
 !function(t){var n={};function e(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(a,o,function(n){return t[n]}.bind(null,o));return a},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){e(1),t.exports=e(3)},function(t,n,e){"use strict";e.r(n);e(2)},function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function r(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,n,e,a,o,r,i){try{var c=t[r](i),l=c.value}catch(t){return void e(t)}c.done?n(l):Promise.resolve(l).then(a,o)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(a,o){var r=t.apply(n,e);function c(t){i(r,a,o,c,l,"next",t)}function l(t){i(r,a,o,c,l,"throw",t)}c(void 0)}))}}
/* @license v0.2.6 Author: Mathew Chan. Copyright ESQIDO LTD. All Rights Reserved. */var l,s,u,d=0,p=0,f=0,v=0,m="esq_eyeliner_checkout_id",h="esq_eyeliner_cart",g=!1,b=!1,y=!1;!function(t){t.fn.plugin=function(){var e=c(regeneratorRuntime.mark((function e(a){var o,u,p,f,v,h,g,C,I,w,T,S,q,_,A,B;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this,s=t.extend({domain:"esqido.com",storefrontAccessToken:"05f86644045cc5fc6cc10718814e3f31",productHandle:"gel-liner-pencil",defaultOption:"2-Pack",defaultCurrency:"USD",defaultRegion:"en-US"},a),u=function(){var t=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(),t.next=3,R(o,s.productHandle);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(),h(),I(),w(),q(),_(),t.next=8,A();case 8:L(),B(),d++;case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=s,n=t.domain,e=t.storefrontAccessToken;l=ShopifyBuy.buildClient({domain:n,storefrontAccessToken:e})},v=function(){if(t(".productSpinner").hide(),o.data("productOptions"))o.append('\n          <div class="productOptions"></div>\n          <div class="addToCartWrapper">\n            <div class="quantity">\n              <button class="quantity-button quantity-down">-</button>\n                <input class="qtySelector" type="number" value="1" min="1" />\n              <button class="quantity-button quantity-up">+</button>\n            </div>\n            <button class="btn addToCart">\n              <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n              <span class="addToCartText">Add To Cart</span>\n            </button>\n          </div>\n        ');else{var n=o.data("singleVariant");P(n,o),o.append('\n          <span class="addToCartWrapper">\n            <div class="quantity">\n              <button class="quantity-button quantity-down">-</button>\n                <input class="qtySelector" type="number" value="1" min="1" />\n              <button class="quantity-button quantity-up">+</button>\n            </div>\n            <button class="btn addToCart">\n              <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n              <span class="addToCartText">Add To Cart</span>\n            </button>\n          </div>\n        ')}},h=function(){var t=o.data("productOptions"),n=o.data("colorOptions");t&&g(),n&&C(s.defaultOption)},g=function(){var n=o.data("optionsAndVariants");n&&t.each(n,(function(n,e){var a=o.find(".productOptions"),r=o.attr("id"),i=e.variants[0];t(a).append('\n            <label class="unit-option-label '.concat(i.available?"":"unavailable",'">\n              <input class="unit-option" type="radio" name="unit-option-').concat(r,"\" value='").concat(i.id,"' data-value='").concat(e.name,"' ").concat(i.available?"":"disabled","/>\n              ").concat(e.name,"\n            </label>\n          "));var c=a.find(".unit-option-label")[n];P(i,c,s)}))},C=function(n){var e=o.data("optionsAndVariants");if(o.data("colorOptions")&&n){var a,r=null===(a=e.filter((function(t){return t.name===n}))[0])||void 0===a?void 0:a.variants,i=o.find(".productOptions");o.find(".productVariants").length||t('\n            <div class="productVariants"></div>\n            <p class="currentSelectedVariant">\n              Selected: <span>Please choose an option</span>\n            </p>\n          ').insertAfter(i);var c=o.attr("id"),l=o.find(".productVariants");t(l).empty(),t.each(r,(function(n,e){var a=e.title.split(" / ")[1].replace(", ","-").toLowerCase();t(l).append('\n          <label class="variant-option-label '.concat(e.available?"":"unavailable",'" data-value=').concat(a,'>\n              <input class="variant-option" type="radio" name="color-option-').concat(c,'" data-value=').concat(a," value=").concat(e.id," ").concat(e.available?"":"disabled",">\n          </label>\n        "))}))}},I=function(){var n=o.data("singleVariant"),e=o.data("product");n&&!e.available&&o.find(".addToCart").text("Sold Out").attr("disabled",!0);var a=o.data("optionsAndVariants");if(a){var i=o.find(".unit-option[data-value='".concat(s.defaultOption,"']")),c=a.reduce((function(t,n){var e=n.variants.filter((function(t){return t.available}));return e.length&&t.push.apply(t,r(e)),t}),[]);if(c.length||o.find(".addToCart").text("Sold Out").attr("disabled",!0),c.some((function(t){return t.title.includes(s.defaultOption)})))t(i).attr("checked",!0);else{var l=o.find(".unit-option");t.each(l,(function(n,e){t(e).data("value")!==s.defaultOption&&t(e).attr("checked",!0)}))}}},w=function(){var n=o.find(".variant-option:enabled");if(n.length){var e=n.filter((function(t,n){return"black-brown"===n.dataset.value})),a=n.filter((function(t,n){return"black"===n.dataset.value})),r=n.filter((function(t,n){return"black-brown"!==n.dataset.value||"black"!==n.dataset.value}));return e.length?t(e[0]).attr("checked",!0):a.length?t(a[0]).attr("checked",!0):t(r[0]).attr("checked",!0)}},T=function(){t("body").on("mousedown",".quantity-button",(function(n){t(n.target).css("background-color","#eee")})),t("body").on("mouseup",".quantity-button",(function(n){t(n.target).css("background-color","#fff")})),o.on("click",".quantity-down",(function(n){t(this).siblings(".qtySelector").val((function(t,n){return n>1?parseInt(n,10)-1:parseInt(n,10)}))})),o.on("click",".quantity-up",(function(){t(this).siblings(".qtySelector").val((function(t,n){return parseInt(n,10)+1}))}))},S=function(){0===d&&(t("#cartLineItems").on("click",".quantity-down",(function(n){var e=t(this).siblings(".qtySelector");e.val((function(t,n){return n>=1?parseInt(n,10)-1:parseInt(n,10)}));var a=t(this).closest(".cart-item").data().value,o=parseInt(e.val(),10);j(a,o)})),t("#cartLineItems").on("click",".quantity-up",(function(){var n=t(this).siblings(".qtySelector");n.val((function(t,n){return parseInt(n,10)+1}));var e=t(this).closest(".cart-item").data().value,a=parseInt(n.val(),10);j(e,a)})))},q=function(){var t=o.data("colorOptions");if(null==t?void 0:t.length){var n=o.find(".unit-option:checked").data("value"),e=o.find(".variant-option:checked").data("value");e="black-brown"===e?"1 x Black, 1 x Brown":e.substring(0,1).toUpperCase()+e.substring(1,e.length),o.find(".currentSelectedVariant span").text("".concat(n," - ").concat(e))}},_=function(){0===d&&t("#cartWrapper").empty().append('\n          <div id="cartHeader">\n            <h3>Your Bag</h3>\n            <button id="closeCart">\n              <img src="https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e7b70d9dd8fc24bf01bc3be_close.svg" alt="Close Bag" />\n            </button>\n          </div>\n          <div id="cartLineItems">\n          </div>\n          <div id="cartEmpty">\n              <p>Your bag\'s empty üõç. Go shopping!</p>\n          </div>\n          <button id="checkoutButton" class="btn">\n            <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n            <span id="checkoutButtonText">Checkout</span>\n          </button>\n        ')},A=function(){var t=c(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==d){t.next=9;break}if(!(n=JSON.parse(localStorage.getItem(m)))){t.next=7;break}return t.next=5,l.checkout.fetch(n).then((function(t){var n;(null==t||null===(n=t.lineItems)||void 0===n?void 0:n.length)&&x(t.lineItems),L()})).catch((function(t){console.log("Couldn't fetch checkout: ",t)}));case 5:t.next=9;break;case 7:return t.next=9,l.checkout.create().then((function(t){t&&t.id&&k(m,t.id)})).catch((function(t){return console.log("Couldn't create new checkout: ",t)}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var e=o.find(".unit-option");t(e).on("click",(function(t){C(t.target.dataset.value),w()})),0===d&&(t("body").on("click","#overlay, #openCart, .addToCart, #closeCart",(function(t){event.stopPropagation(),event.stopImmediatePropagation(),O()})),t("body").on("click","#modalOverlay",(function(t){event.stopPropagation(),event.stopImmediatePropagation(),b?n():y&&i()}))),o.find(".addToCart").on("click",(function(t){U(o,"cart")})),t("body").on("click",".cart-item-remove",(function(t){M(t.target.dataset.value)})),t("body").on("click","#checkoutButton",function(){var t=c(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),n.stopImmediatePropagation(),t.next=4,V();case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),o.on("click",".unit-option, .variant-option",(function(t){q()})),T(),S()},e.next=19,u();case 19:if(!o.data("product")){e.next=23;break}return e.next=23,p();case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.fn.pluginUpsell=function(){var e=c(regeneratorRuntime.mark((function e(a){var o,r,s,p,f,m,h,x,I,w,T,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this,u=t.extend({heading:"You might also like",headingColor:"#555555",discountCode:null,discountType:null,discountAmount:null,upsellOnCheckout:!0,cartUpsell:null,checkoutUpsells:["unisyn-classic-bundle","unisyn-wispy-bundle","unisyn-glam-bundle"]},a),l){e.next=6;break}console.log("Please initialize Client first."),e.next=27;break;case 6:if(r=C("esq_checkout_upsell_display_count"),u.upsellOnCheckout&&(r?v=r:k("esq_checkout_upsell_display_count",0)),!u.cartUpsell){e.next=13;break}return e.next=11,R(o,u.cartUpsell);case 11:(s=o.data("product"))&&(p=o.data("optionsAndVariants"),f=s.images[0],0===d&&t(o).append('\n              <h3 class="cartUpsellTitle" style="color: '.concat(u.headingColor,'">').concat(u.heading,"</h3>\n            ")),t("#cartUpsells").append('\n            <div class="upsellItem">\n              <img class="upsellItemImage" src="'.concat(f.src,'" alt="').concat(f.altText,'">\n              <div class="upsellItemDetails">\n                <a class="upsellItemTitle">').concat(s.title,"</a>\n                ").concat(p?'<select class="upsellProductOption"></select>':"",'\n                <p class="upsellItemPrices"></p>\n              </div>\n              <button class="btn upsellAddToCart">\n                <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n                <span class="addToCartText">Add</span>\n              </button>\n            </div>\n          ')),t("body").append('\n            <div id="modalOverlay"></div>\n            <div id="upsellItemModal" class="upsellModal">\n              <div id="upsellModalContainer">\n                <div class="upsellItemGalleryContainer">\n                  <div class="upsellItemGallery"></div>\n                </div>\n                <div class="upsellItemDetails">\n                  <a class="upsellItemTitle">'.concat(s.title,"</a>\n                  ").concat(p?'<select class="upsellProductOption"></select>':"",'\n                  <p class="upsellItemPrices"></p>\n                  <div class="upsellItemDescription">').concat(s.descriptionHtml,'</div>\n                  <button class="btn upsellAddToCart">\n                    <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n                    <span class="addToCartText">Add To Cart</span>\n                  </button>\n                </div>\n                <button id="closeModal">\n                  <img src="https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e7b70d9dd8fc24bf01bc3be_close.svg" alt="Close" />\n                </button>\n              </div>\n            </div>\n          ')),m=t("#upsellItemModal").find(".upsellItemGallery"),t.each(s.images,(function(n,e){t(m).append('\n            <img class="upsellItemImage" src="'.concat(e.src,'" alt="').concat(e.altText,'">\n            '))})),p?t.each(p,(function(n,e){var a=t("body").find(".upsellProductOption"),r=o.find(".upsellItem"),i=(o.attr("id"),e.variants[0]);t(a).append('\n                <option class="unit-option" value=\''.concat(i.id,"' data-value='").concat(e.name,"' ").concat(i.available?"":"disabled",">\n                  ").concat(e.name,"\n                </option>\n              "));var c=r.find(".upsellItemPrices")[n],l=t("#upsellItemModal").find(".upsellItemPrices")[n];P(i,c),P(i,l)})):(h=s.variants[0],x=o.find(".upsellItemPrices"),I=t("#upsellItemModal").find(".upsellItemPrices"),P(h,x),P(h,I)));case 13:if(!u.upsellOnCheckout){e.next=20;break}if(T=null===(w=u)||void 0===w?void 0:w.checkoutUpsells,t("body").append('\n            <div id="modalOverlay"></div>\n            <div id="checkoutUpsellModal" class="upsellModal">\n              <div id="checkoutUpsellModalContainer">\n                <p class="checkoutSpsellModalSubhead">Customize Your Order</p>\n                <h3>Add an Esqido Premium Lashes Kit at -40% OFF!</h3>\n                <div class="upsellHighlights">\n                  <div class="upsellHighlightItem">\n                    <img src="https://cdn.shopify.com/s/files/1/0250/1519/t/27/assets/time-icon.svg?v=1269636006768805444" alt="">\n                    <p>Highests Quality Materials That Lasts Up to 20-25 Wears</p>\n                  </div>\n                  <div class="upsellHighlightItem">\n                    <img src="https://cdn.shopify.com/s/files/1/0250/1519/t/27/assets/eyelash-icon.svg?v=17637281597508357764" alt="">\n                    <p>Unisyn‚Ñ¢ Technology Makes Them Ultra-natural Looking</p>\n                  </div>\n                  <div class="upsellHighlightItem">\n                    <img src="https://cdn.shopify.com/s/files/1/0250/1519/t/27/assets/curler-icon.svg?v=18141781665275607000" alt="">\n                    <p>Recommended by A-list Celebs and Pro Make Up Artists</p>\n                  </div>\n                </div>\n                <div class="upsellItemListing"></div>\n                <button id="skipCheckoutUpsell" class="btn secondary">No thanks, take me to checkout</button>\n                <button id="closeModal">\n                  <img src="https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e7b70d9dd8fc24bf01bc3be_close.svg" alt="Close" />\n                </button>\n              </div>\n            </div>\n          '),!T.length){e.next=20;break}return S=t("#checkoutUpsellModal").find(".upsellItemListing"),e.next=20,T.map(function(){var n=c(regeneratorRuntime.mark((function n(e,a){var o,r,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return S.append('\n                <div class="checkoutUpsellProduct product-'.concat(a,'">\n                </div>\n              ')),o=S.find(".product-".concat(a)),n.next=4,R(o,e);case 4:r=o.data("product"),o.append('\n                <div class="checkoutUpsellItemGalleryContainer">\n                  <div class="checkoutUpsellItemGallery"></div>\n                </div>\n                <p class="upsellItemTitle">'.concat(r.title,'</p>\n                <p class="upsellItemPrices"></p>\n                <div class="upsellItemDescription">').concat(r.descriptionHtml,'</div>\n                <button class="btn checkoutUpsellAddToCart" value="').concat(r.variants[0].id,'">\n                  <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n                  <span class="addToCartText">Add & Checkout</span>\n                </button>\n              ')),i=o.find(".upsellItemPrices"),c=o.find(".checkoutUpsellItemGallery"),t.each(r.images,(function(n,e){t(c).append('\n                <img class="checkoutUpsellImage" src="'.concat(e.src,'" alt="').concat(e.altText,'">\n              '))})),r.variants.map((function(t){return P(t,i)}));case 10:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}());case 20:t("#cart").on("change",".upsellProductOption",(function(t){var n=q(product.variants,t.target.value)[0],e=o.find(".upsellItemPrices").empty();P(n,e)})),t("#upsellItemModal").on("change",".upsellProductOption",(function(n){var e,a=q(product.variants,n.target.value)[0],o=t("#upsellItemModal").find(".upsellItemPrices").empty();null===(e=u)||void 0===e||e.discountCode,P(a,o)})),o.find(".upsellAddToCart").on("click",(function(t){var n,e=o.find(".unit-option:selected"),a=o.data("optionsAndVariants")?e.val():o.data("product").variants[0].id;_(a),B(o,a),(null===(n=u)||void 0===n?void 0:n.discountCode)&&A(u.discountCode)})),t("#upsellItemModal").on("click",".upsellAddToCart",(function(n){var e,a=t("#upsellItemModal").find(".unit-option:selected"),r=o.data("optionsAndVariants")?a.val():o.data("product").variants[0].id;_(r),B(o,r),(null===(e=u)||void 0===e?void 0:e.discountCode)&&A(u.discountCode)})),t("body").on("click",".upsellItemTitle, #closeModal",(function(t){g?O():b?n():y&&i()})),t("#checkoutUpsellModal").on("click",".checkoutUpsellAddToCart",function(){var t=c(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),n.stopImmediatePropagation(),t.next=4,_(this.value);case 4:return t.next=6,V();case 6:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}()),t("#skipCheckoutUpsell").on("click",function(){var t=c(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V();case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var n=function(){b=!b,t("body").toggleClass("modalOpen"),t("#upsellItemModal").fadeToggle(),b&&0===f&&(t(".upsellItemGallery").slick({arrows:!0,dots:!0}),f++)},i=function(){y=!y,t("body").toggleClass("modalOpen"),t("#checkoutUpsellModal").fadeToggle(),y&&0===f&&(t(".checkoutUpsellItemGallery").slick({arrows:!0,dots:!0}),f++)},k=function(t,n){var e=JSON.stringify(n);localStorage.setItem(t,e)},C=function(t){return JSON.parse(localStorage.getItem(t))},x=function(t){if(null==t?void 0:t.length){var n=t.map((function(t){return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?a(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({title:t.title,subtitle:t.variant.title},t)}));k(h,n)}else k(h,[])},I=function(n){var e=t(".addToCart").not(':contains("Sold Out")');e&&(n?(e.attr("disabled",!0),e.find(".addToCartText").hide(),e.find(".spinner").show()):(e.attr("disabled",!1),e.find(".spinner").hide(),e.find(".addToCartText").show()))},w=function(n){n?(t("#checkoutButton").attr("disabled",!0),t("#checkoutButtonText").hide(),t("#checkoutButton .spinner").show()):(t("#checkoutButton").attr("disabled",!1),t("#checkoutButton .spinner").hide(),t("#checkoutButtonText").show())},O=function(){g=!g,t("body").toggleClass("cartOpen")},T=function(t){var n,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=null;if(t&&(null==t||null===(n=t.presentmentPrices)||void 0===n?void 0:n.length)){var o=t.presentmentPrices.filter((function(t){return t.price.currencyCode===s.defaultCurrency}));(null==o?void 0:o.length)&&(a=o[0])}if(a){var r,i,c=a,l=c.price,u=c.compareAtPrice,d=new Intl.NumberFormat(s.defaultRegion,{style:"currency",currency:s.defaultCurrency,maximumSignificantDigits:4});return e?((null==l?void 0:l.amount)&&(r=d.format(l.amount)),(null==u?void 0:u.amount)&&(i=d.format(u.amount)),{price:r,comparePrice:i||r}):{price:null==l?void 0:l.amount,comparePrice:null==u?void 0:u.amount}}},P=function(n,e){if(n&&e){var a,o,r,i=1===n.length,c=T(n),l=T(n,!1),d=null===(a=u)||void 0===a?void 0:a.discountType,p=null===(o=u)||void 0===o?void 0:o.discountAmount;(null==n?void 0:n.variableValues)?r=n.variableValues.handle:(null==n?void 0:n.product)&&(r=n.product.handle);var f=new Intl.NumberFormat(s.defaultRegion,{style:"currency",currency:s.defaultCurrency,maximumSignificantDigits:4});if(r===u.cartUpsell&&d){var v,m=l.price,h=l.comparePrice,g=null==c?void 0:c.comparePrice;"percentage"===d?v=h?h*(p/100):m*(p/100):"fixed"===d&&(v=h?h-p:m-p);var b=f.format(v);t(e).append('\n            <p class="unit-price '.concat(i?"single-product-price":""," ").concat(v<m?"sale-price":"",'">').concat(v<m?"<span class='unit-compare-price'>"+g+"</span>":"","\n            ").concat(b," ").concat("USD"===s.defaultCurrency?s.defaultCurrency:"","\n            </p>\n          "))}else{var y=c.price,k=c.comparePrice;c&&t(e).append('\n          <p class="unit-price '.concat(i?"single-product-price":""," ").concat(k>y?"sale-price":"",'">').concat(k>y?"<span class='unit-compare-price'>"+k+"</span>":"","\n          ").concat(y," ").concat("USD"===s.defaultCurrency?s.defaultCurrency:"","\n          </p>\n        "))}}},S=function(t,n){var e;if(null==t?void 0:t.options)return null===(e=t.options.filter((function(t){return t.name.toLowerCase()===n}))[0])||void 0===e?void 0:e.values.map((function(t){return t.value}))},q=function(t,n){return t.filter((function t(a){return Object.keys(a).some((function(o){return"string"==typeof a[o]?a[o].toLowerCase().indexOf(n.toLowerCase())>-1:!(!a[o]||"object"!==e(a[o]))&&t(a[o])}))}))},R=function(){var n=c(regeneratorRuntime.mark((function n(e,a){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!a){n.next=5;break}return(o=t(e)).html('\n      <div class="productSpinner">\n        <img src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n      </div>\n    '),n.next=5,l.product.fetchByHandle(a).then((function(t){var n,e=t;o.data("product",e);var a=S(e,"units"),r=null==e?void 0:e.options.filter((function(t){return"title"!==t.name.toLowerCase()})).map((function(t){return t.name})),i=S(e,"color"),c=S(e,"bundle"),l=1===(null==e||null===(n=e.variants)||void 0===n?void 0:n.length),s=[];if(null==a?void 0:a.length)for(var u in a){var d=a[u],p=q(e.variants,d);s.push({name:d,variants:p})}else if(null==c?void 0:c.length)for(var f in c){var v=c[f],m=q(e.variants,v);s.push({name:v,variants:m})}l&&o.data("singleVariant",null==e?void 0:e.variants[0]),(null==r?void 0:r.length)&&o.data("productOptions",r),(null==a?void 0:a.length)&&o.data("unitOptions",a),(null==i?void 0:i.length)&&o.data("colorOptions",i),(null==s?void 0:s.length)&&o.data("optionsAndVariants",s)})).catch((function(t){return console.log("Couldn't fetch product: ",t)}));case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),_=function(){var t=c(regeneratorRuntime.mark((function t(e){var a,o,r,i,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=c.length>1&&void 0!==c[1]?c[1]:1,p=0,I(!0),w(!0),o=parseInt(a,10),r=[{variantId:e,quantity:o}],!(i=C(m))){t.next=15;break}return t.next=10,l.checkout.addLineItems(i,r).then((function(t){t.lineItems.length&&x(t.lineItems)}));case 10:I(!1),w(!1),L(),b&&n(),g||O();case 15:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),U=function(){var t=c(regeneratorRuntime.mark((function t(e,a){var o,r,i,c,s,u,d,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p=0,I(!0),w(!0),o=C(m),(c=e.data("singleVariant"))?r=c.id:(i=e.find("input[type='radio']:checked"),r=(null===(s=i)||void 0===s?void 0:s.length)?null===(u=i[i.length-1])||void 0===u?void 0:u.value:e.find(".upsellProductOption").val()),d=parseInt(e.find(".qtySelector").val(),10),f=[{variantId:r,quantity:d||1}],B(e,r),!o){t.next=16;break}return t.next=12,l.checkout.addLineItems(o,f).then((function(t){t.lineItems.length&&x(t.lineItems)})).catch((function(t){return console.log("Couldn't add item to checkout: ",t)}));case 12:I(!1),w(!1),L(),"cart"===a?O():"modal"===a&&(n(),O());case 16:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),A=function(){var t=c(regeneratorRuntime.mark((function t(n){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=C(m),!n){t.next=4;break}return t.next=4,l.checkout.addDiscount(e,n).then((function(t){}));case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),L=function(){0===p&&t("#cartLineItems").empty();var n=C(h);if(null==n?void 0:n.length){t("#checkoutButton").show(),t("#cartEmpty").hide();for(;p<=n.length-1;){n.map((function(n,e){var a,o,r=n.variant,i=T(r);T(r,!1).price,i.comparePrice;t("#cartLineItems").append('\n            <div class="cart-item" data-value="'.concat(n.id,'">\n            ').concat((null==r||null===(a=r.image)||void 0===a?void 0:a.src)?'<img src="'.concat(r.image.src,'" alt="').concat(null===(o=r.image)||void 0===o?void 0:o.altText,'"/>'):'<img src="https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e83a3654bfbfa1aa178d629_placeholder.jpg" alt="'.concat(n.title,'"/>'),'\n              <div class="cart-item-details">\n                <p class="cart-item-title">').concat(n.title,"</p>\n                ").concat(n.subtitle.toLowerCase().includes("default title")?"":"<p class='cart-item-subtitle'>".concat(n.subtitle,"</p>"),'\n                <p class="cart-item-price" data-value=').concat(r.id,'></p>\n                <div class="quantity">\n                  <button class="quantity-button quantity-down">-</button>\n                  <input class="qtySelector" type="number" min="0" value="').concat(n.quantity,'" data-value="').concat(r.id,'" />\n                  <button class="quantity-button quantity-up">+</button>\n                </div>\n                <span class="cart-item-remove" data-value="').concat(n.id,'">Remove</span>\n              </div>\n            </div>\n          '));var c=t("#cartLineItems").find(".cart-item-price").val(r.id)[e];P(r,c),p++}));var e=n.reduce((function(t,n){return t+n.quantity}),0);t("#cartCount").text(e)}}else t("#cartEmpty").show(),t("#checkoutButton").hide(),t("#cartCount").text(0)},M=function(){var t=c(regeneratorRuntime.mark((function t(n){var e,a,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=0,w(!0),e=C(m),a=C(h),o=[n],r=q(a,n)[0],t.next=8,l.checkout.removeLineItems(e,o).then((function(t){x(t.lineItems)})).catch((function(t){return console.log("Couldn't remove item from checkout: ",t)}));case 8:if(!r||r.id!==n){t.next=11;break}return t.next=11,l.checkout.removeDiscount(e).then((function(t){}));case 11:w(!1),L();case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),j=function(){var t=c(regeneratorRuntime.mark((function t(n,e){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=0,I(!0),w(!0),a=C(m),o=[{id:n,quantity:e}],t.next=7,l.checkout.updateLineItems(a,o).then((function(t){x(t.lineItems)})).catch((function(t){return console.log("Couldn't update items in checkout: ",t)}));case 7:I(!1),w(!1),L();case 10:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),V=function(){var t=c(regeneratorRuntime.mark((function t(){var n,e,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=C(m),t.next=3,C("esq_checkout_upsell_display_count");case 3:if(o=t.sent,console.log("Count:",o),!(null===(n=u)||void 0===n?void 0:n.upsellOnCheckout)||0!==o){t.next=13;break}console.log("Showing upsells"),O(),i(),v++,k("esq_checkout_upsell_display_count",v),t.next=18;break;case 13:if((null===(e=u)||void 0===e?void 0:e.upsellOnCheckout)&&!(o>0)){t.next=18;break}return console.log("Checking out"),w(!0),t.next=18,l.checkout.fetch(a).then((function(t){t.webUrl&&(location.href=t.webUrl)}));case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(t,n){null===(e=t.data("product"))||void 0===e||e.title;var e,a,o=q(t.data("product").variants,n)[0],r=/\/([0-9]+)[^\/]*$/.exec(atob(null===(a=t.data("product"))||void 0===a?void 0:a.id))[1],i=parseInt(t.find(".qtySelector").val(),10);"undefined"!=typeof fbq&&fbq("track","AddToCart",{value:parseInt(o.priceV2.amount,10),currency:s.defaultCurrency,content_type:"product_group",content_ids:r,content_category:o.title,content_name:o.title,num_items:i||1})}}(jQuery)},function(t,n,e){}]);
//# sourceMappingURL=app.bundle.min.js.map 