!function(t){var n={};function e(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(a,o,function(n){return t[n]}.bind(null,o));return a},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){e(1),t.exports=e(3)},function(t,n,e){"use strict";e.r(n);e(2)},function(t,n){
/* @license v0.1.4 Author: Mathew Chan. Copyright ESQIDO LTD. All Rights Reserved. */
let e,a,o,i=0,l=0,c=0,s="esq_eyeliner_checkout_id",u="esq_eyeliner_cart",d=!1,r=!1;!function(t){t.fn.plugin=async function(o){const l=this;a=t.extend({domain:"esqido.com",storefrontAccessToken:"05f86644045cc5fc6cc10718814e3f31",productHandle:"gel-liner-pencil",defaultOption:"2-Pack",defaultCurrency:"USD",defaultRegion:"en-US"},o);const c=function(){const{domain:t,storefrontAccessToken:n}=a;e=ShopifyBuy.buildClient({domain:t,storefrontAccessToken:n})},u=function(){if(t(".productSpinner").hide(),l.data("productOptions"))l.append('\n          <div class="productOptions"></div>\n          <div class="addToCartWrapper">\n            <div class="quantity">\n              <button class="quantity-button quantity-down">-</button>\n                <input class="qtySelector" type="number" value="1" min="1" />\n              <button class="quantity-button quantity-up">+</button>\n            </div>\n            <button class="btn addToCart">\n              <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n              <span class="addToCartText">Add To Cart</span>\n            </button>\n          </div>\n        ');else{const t=l.data("singleVariant");y(t,l),l.append('\n          <span class="addToCartWrapper">\n            <div class="quantity">\n              <button class="quantity-button quantity-down">-</button>\n                <input class="qtySelector" type="number" value="1" min="1" />\n              <button class="quantity-button quantity-up">+</button>\n            </div>\n            <button class="btn addToCart">\n              <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n              <span class="addToCartText">Add To Cart</span>\n            </button>\n          </div>\n        ')}},d=function(){const t=l.data("productOptions"),n=l.data("colorOptions");t&&r(),n&&f(a.defaultOption)},r=function(){const n=l.data("optionsAndVariants");n&&t.each(n,(function(n,e){const o=l.find(".productOptions"),i=l.attr("id"),c=e.variants[0];t(o).append(`\n            <label class="unit-option-label ${c.available?"":"unavailable"}">\n              <input class="unit-option" type="radio" name="unit-option-${i}" value='${c.id}' data-value='${e.name}' ${c.available?"":"disabled"}/>\n              ${e.name}\n            </label>\n          `);const s=o.find(".unit-option-label")[n];y(c,s,a)}))},f=function(n){const e=l.data("optionsAndVariants");if(l.data("colorOptions")&&n){var a;const o=null===(a=e.filter(t=>t.name===n)[0])||void 0===a?void 0:a.variants,i=l.find(".productOptions");l.find(".productVariants").length||t('\n            <div class="productVariants"></div>\n            <p class="currentSelectedVariant">\n              Selected: <span>Please choose an option</span>\n            </p>\n          ').insertAfter(i);let c=l.attr("id");const s=l.find(".productVariants");t(s).empty(),t.each(o,(function(n,e){let a=e.title.split(" / ")[1].replace(", ","-").toLowerCase();t(s).append(`\n          <label class="variant-option-label ${e.available?"":"unavailable"}" data-value=${a}>\n              <input class="variant-option" type="radio" name="color-option-${c}" data-value=${a} value=${e.id} ${e.available?"":"disabled"}>\n          </label>\n        `)}))}},m=function(){const n=l.data("singleVariant"),e=l.data("product");n&&!e.available&&l.find(".addToCart").text("Sold Out").attr("disabled",!0);const o=l.data("optionsAndVariants");if(o){const n=l.find(`.unit-option[data-value='${a.defaultOption}']`),e=o.reduce((t,n)=>{let e=n.variants.filter(t=>t.available);return e.length&&t.push(...e),t},[]);if(e.length||l.find(".addToCart").text("Sold Out").attr("disabled",!0),e.some(t=>t.title.includes(a.defaultOption)))t(n).attr("checked",!0);else{const n=l.find(".unit-option");t.each(n,(function(n,e){t(e).data("value")!==a.defaultOption&&t(e).attr("checked",!0)}))}}},h=function(){const n=l.find(".variant-option:enabled");if(n.length){const e=n.filter((t,n)=>"black-brown"===n.dataset.value),a=n.filter((t,n)=>"black"===n.dataset.value),o=n.filter((t,n)=>"black-brown"!==n.dataset.value||"black"!==n.dataset.value);return e.length?t(e[0]).attr("checked",!0):a.length?t(a[0]).attr("checked",!0):t(o[0]).attr("checked",!0)}},g=function(){const t=l.data("colorOptions");if(null==t?void 0:t.length){const t=l.find(".unit-option:checked").data("value");let n=l.find(".variant-option:checked").data("value");n="black-brown"===n?"1 x Black, 1 x Brown":n.substring(0,1).toUpperCase()+n.substring(1,n.length),l.find(".currentSelectedVariant span").text(`${t} - ${n}`)}},C=function(){0===i&&t("#cartWrapper").empty().append('\n          <div id="cartHeader">\n            <h3>Your Bag</h3>\n            <button id="closeCart">\n              <img src="https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e7b70d9dd8fc24bf01bc3be_close.svg" alt="Close Bag" />\n            </button>\n          </div>\n          <div id="cartLineItems">\n          </div>\n          <div id="cartEmpty">\n              <p>Your bag\'s empty üõç. Go shopping!</p>\n          </div>\n          <button id="checkoutButton" class="btn">\n            <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n            <span id="checkoutButtonText">Checkout</span>\n          </button>\n        ')},k=async function(){if(0===i){const t=JSON.parse(localStorage.getItem(s));t?await e.checkout.fetch(t).then((function(t){var n;(null==t||null===(n=t.lineItems)||void 0===n?void 0:n.length)&&v(t.lineItems),O()})).catch(t=>{console.log("Couldn't fetch checkout: ",t)}):await e.checkout.create().then((function(t){t&&t.id&&p(s,t.id)})).catch(t=>console.log("Couldn't create new checkout: ",t))}},$=function(){const e=l.find(".unit-option");t(e).on("click",(function(t){f(t.target.dataset.value),h()})),0===i&&(t("body").on("click","#overlay, #openCart, .addToCart, #closeCart",(function(t){event.stopPropagation(),event.stopImmediatePropagation(),b()})),t("body").on("click","#modalOverlay",(function(t){event.stopPropagation(),event.stopImmediatePropagation(),n()}))),l.find(".addToCart").on("click",(function(t){w(l,"cart")})),t("body").on("click",".cart-item-remove",(function(t){q(t.target.dataset.value)})),t("body").on("click","#checkoutButton",(async function(t){await S()})),l.on("click",".unit-option, .variant-option",(function(t){g()})),t("body").on("mousedown",".quantity-button",(function(n){t(n.target).css("background-color","#eee")})),t("body").on("mouseup",".quantity-button",(function(n){t(n.target).css("background-color","#fff")})),l.on("click",".quantity-down",(function(n){t(this).siblings(".qtySelector").val((function(t,n){return n>1?parseInt(n,10)-1:parseInt(n,10)}))})),l.on("click",".quantity-up",(function(){t(this).siblings(".qtySelector").val((function(t,n){return parseInt(n,10)+1}))})),0===i&&(t("#cartLineItems").on("click",".quantity-down",(function(n){let e=t(this).siblings(".qtySelector");e.val((function(t,n){return n>=1?parseInt(n,10)-1:parseInt(n,10)}));const a=t(this).closest(".cart-item").data().value,o=parseInt(e.val(),10);P(a,o)})),t("#cartLineItems").on("click",".quantity-up",(function(){let n=t(this).siblings(".qtySelector");n.val((function(t,n){return parseInt(n,10)+1}));const e=t(this).closest(".cart-item").data().value,a=parseInt(n.val(),10);P(e,a)})))};await async function(){c(),await I(l,a.productHandle)}(),l.data("product")&&await async function(){u(),d(),m(),h(),g(),C(),await k(),O(),$(),i++}()},t.fn.pluginUpsell=async function(a){const l=this;if(o=t.extend({productHandle:"peace-and-love",heading:"You might also like",headingColor:"#555555",discountCode:null,discountType:null,discountAmount:null},a),e){await I(l,o.productHandle);const e=l.data("product");if(e){const a=l.data("optionsAndVariants"),c=e.images[0];0===i&&t(l).append(`\n            <h3 class="cartUpsellTitle" style="color: ${o.headingColor}">${o.heading}</h3>\n          `),t("#cartUpsells").append(`\n          <div class="upsellItem">\n            <img class="upsellItemImage" src="${c.src}" alt="${c.altText}">\n            <div class="upsellItemDetails">\n              <a class="upsellItemTitle">${e.title}</a>\n              ${a?'<select class="upsellProductOption"></select>':""}\n              <p class="upsellItemPrices"></p>\n            </div>\n            <button class="btn upsellAddToCart">\n              <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n              <span class="addToCartText">Add</span>\n            </button>\n          </div>\n        `),t("body").append(`\n          <div id="modalOverlay"></div>\n          <div id="upsellItemModal">\n            <div id="upsellModalContainer">\n              <div class="upsellItemGalleryContainer">\n                <div class="upsellItemGallery"></div>\n              </div>\n              <div class="upsellItemDetails">\n                <a class="upsellItemTitle">${e.title}</a>\n                ${a?'<select class="upsellProductOption"></select>':""}\n                <p class="upsellItemPrices"></p>\n                <div class="upsellItemDescription">${e.descriptionHtml}</div>\n                <button class="btn upsellAddToCart">\n                  <img class="spinner" src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n                  <span class="addToCartText">Add To Cart</span>\n                </button>\n              </div>\n              <button id="closeModal">\n                <img src="https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e7b70d9dd8fc24bf01bc3be_close.svg" alt="Close Bag" />\n              </button>\n            </div>\n          </div>\n        `);const s=t("#upsellItemModal").find(".upsellItemGallery");if(t.each(e.images,(function(n,e){t(s).append(`\n          <img class="upsellItemImage" src="${e.src}" alt="${e.altText}">\n          `)})),a)t.each(a,(function(n,e){const a=t("body").find(".upsellProductOption"),o=l.find(".upsellItem"),i=(l.attr("id"),e.variants[0]);t(a).append(`\n              <option class="unit-option" value='${i.id}' data-value='${e.name}' ${i.available?"":"disabled"}>\n                ${e.name}\n              </option>\n            `);const c=o.find(".upsellItemPrices")[n],s=t("#upsellItemModal").find(".upsellItemPrices")[n];y(i,c),y(i,s)}));else{const n=e.variants[0],a=l.find(".upsellItemPrices"),o=t("#upsellItemModal").find(".upsellItemPrices");y(n,a),y(n,o)}t("#cart").on("change",".upsellProductOption",(function(t){const n=k(e.variants,t.target.value)[0],a=l.find(".upsellItemPrices").empty();y(n,a)})),t("#upsellItemModal").on("change",".upsellProductOption",(function(n){var a;const i=k(e.variants,n.target.value)[0],l=t("#upsellItemModal").find(".upsellItemPrices").empty();null===(a=o)||void 0===a||a.discountCode,y(i,l)})),l.find(".upsellAddToCart").on("click",(function(t){var n;const e=l.find(".unit-option:selected"),a=l.data("optionsAndVariants")?e.val():l.data("product").variants[0].id;$(a),x(l,a),(null===(n=o)||void 0===n?void 0:n.discountCode)&&T(o.discountCode)})),t("#upsellItemModal").on("click",".upsellAddToCart",(function(n){var e;const a=t("#upsellItemModal").find(".unit-option:selected"),i=l.data("optionsAndVariants")?a.val():l.data("product").variants[0].id;$(i),x(l,i),(null===(e=o)||void 0===e?void 0:e.discountCode)&&T(o.discountCode)})),t("body").on("click",".upsellItemTitle, #closeModal",(function(t){d&&b(),n()}))}}else console.log("Please initialize Client first.")};const n=function(){r=!r,t("body").toggleClass("modalOpen"),t("#upsellItemModal").fadeToggle(),r&&0===c&&(t(".upsellItemGallery").slick({arrows:!1,dots:!0}),c++)},p=function(t,n){let e=JSON.stringify(n);localStorage.setItem(t,e)},f=function(t){return JSON.parse(localStorage.getItem(t))},v=function(t){if(null==t?void 0:t.length){const n=t.map(t=>({title:t.title,subtitle:t.variant.title,...t}));p(u,n)}else p(u,[])},m=function(n){const e=t(".addToCart").not(':contains("Sold Out")');e&&(n?(e.attr("disabled",!0),e.find(".addToCartText").hide(),e.find(".spinner").show()):(e.attr("disabled",!1),e.find(".spinner").hide(),e.find(".addToCartText").show()))},h=function(n){n?(t("#checkoutButton").attr("disabled",!0),t("#checkoutButtonText").hide(),t("#checkoutButton .spinner").show()):(t("#checkoutButton").attr("disabled",!1),t("#checkoutButton .spinner").hide(),t("#checkoutButtonText").show())},b=function(){d=!d,t("body").toggleClass("cartOpen")},g=function(t,n=!0){var e;let o=null;if(t&&(null==t||null===(e=t.presentmentPrices)||void 0===e?void 0:e.length)){const n=t.presentmentPrices.filter(t=>t.price.currencyCode===a.defaultCurrency);(null==n?void 0:n.length)&&(o=n[0])}if(o){const{price:t,compareAtPrice:e}=o;let i,l;const c=new Intl.NumberFormat(a.defaultRegion,{style:"currency",currency:a.defaultCurrency,maximumSignificantDigits:4});return n?((null==t?void 0:t.amount)&&(i=c.format(t.amount)),(null==e?void 0:e.amount)&&(l=c.format(e.amount)),{price:i,comparePrice:l||i}):{price:null==t?void 0:t.amount,comparePrice:null==e?void 0:e.amount}}},y=function(n,e){if(n&&e){var i,l;const c=1===n.length,s=g(n),u=g(n,!1),d=null===(i=o)||void 0===i?void 0:i.discountType,r=null===(l=o)||void 0===l?void 0:l.discountAmount;let p;(null==n?void 0:n.variableValues)?p=n.variableValues.handle:(null==n?void 0:n.product)&&(p=n.product.handle);const f=new Intl.NumberFormat(a.defaultRegion,{style:"currency",currency:a.defaultCurrency,maximumSignificantDigits:4});if(p===o.productHandle&&d){const{price:n,comparePrice:o}=u,i=null==s?void 0:s.comparePrice;let l;"percentage"===d?l=o?o*(r/100):n*(r/100):"fixed"===d&&(l=o?o-r:n-r);const p=f.format(l);t(e).append(`\n            <p class="unit-price ${c?"single-product-price":""} ${l<n?"sale-price":""}">${l<n?"<span class='unit-compare-price'>"+i+"</span>":""}\n            ${p} ${"USD"===a.defaultCurrency?a.defaultCurrency:""}\n            </p>\n          `)}else{const{price:n,comparePrice:o}=s;s&&t(e).append(`\n          <p class="unit-price ${c?"single-product-price":""} ${o>n?"sale-price":""}">${o>n?"<span class='unit-compare-price'>"+o+"</span>":""}\n          ${n} ${"USD"===a.defaultCurrency?a.defaultCurrency:""}\n          </p>\n        `)}}},C=function(t,n){if(null==t?void 0:t.options){var e;return null===(e=t.options.filter(t=>t.name.toLowerCase()===n)[0])||void 0===e?void 0:e.values.map(t=>t.value)}},k=function(t,n){return t.filter((function t(e){return Object.keys(e).some(a=>"string"==typeof e[a]?e[a].toLowerCase().indexOf(n.toLowerCase())>-1:!(!e[a]||"object"!=typeof e[a])&&t(e[a]))}))},I=async function(n,a){if(n&&a){const o=t(n);o.html('\n      <div class="productSpinner">\n        <img src="https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796" alt="Loading Checkout" />\n      </div>\n    '),await e.product.fetchByHandle(a).then(t=>{var n;const e=t;o.data("product",e);const a=C(e,"units"),i=null==e?void 0:e.options.filter(t=>"title"!==t.name.toLowerCase()).map(t=>t.name),l=C(e,"color"),c=C(e,"bundle"),s=1===(null==e||null===(n=e.variants)||void 0===n?void 0:n.length);let u=[];if(null==a?void 0:a.length)for(let t in a){let n=a[t],o=k(e.variants,n);u.push({name:n,variants:o})}else if(null==c?void 0:c.length)for(let t in c){let n=c[t],a=k(e.variants,n);u.push({name:n,variants:a})}s&&o.data("singleVariant",null==e?void 0:e.variants[0]),(null==i?void 0:i.length)&&o.data("productOptions",i),(null==a?void 0:a.length)&&o.data("unitOptions",a),(null==l?void 0:l.length)&&o.data("colorOptions",l),(null==u?void 0:u.length)&&o.data("optionsAndVariants",u)}).catch(t=>console.log("Couldn't fetch product: ",t))}},$=async function(t,a=1){l=0,m(!0),h(!0);const o=[{variantId:t,quantity:parseInt(a,10)}],i=f(s);i&&(await e.checkout.addLineItems(i,o).then((function(t){t.lineItems.length&&v(t.lineItems)})),m(!1),h(!1),O(),r&&n(),d||b())},w=async function(t,a){l=0,m(!0),h(!0);const o=f(s);let i,c;const u=t.data("singleVariant");var d,r;u?i=u.id:(c=t.find("input[type='radio']:checked"),i=(null===(d=c)||void 0===d?void 0:d.length)?null===(r=c[c.length-1])||void 0===r?void 0:r.value:t.find(".upsellProductOption").val());const p=parseInt(t.find(".qtySelector").val(),10),g=[{variantId:i,quantity:p||1}];x(t,i),o&&(await e.checkout.addLineItems(o,g).then((function(t){t.lineItems.length&&v(t.lineItems)})).catch(t=>console.log("Couldn't add item to checkout: ",t)),m(!1),h(!1),O(),"cart"===a?b():"modal"===a&&(n(),b()))},T=async function(t){const n=f(s);t&&await e.checkout.addDiscount(n,t).then(t=>{})},O=function(){0===l&&t("#cartLineItems").empty();const n=f(u);if(null==n?void 0:n.length){t("#checkoutButton").show(),t("#cartEmpty").hide();for(;l<=n.length-1;){n.map((function(n,e){var a,o;const{variant:i}=n,c=g(i),s=g(i,!1),{price:u}=s,{comparePrice:d}=c;t("#cartLineItems").append(`\n            <div class="cart-item" data-value="${n.id}">\n            ${(null==i||null===(a=i.image)||void 0===a?void 0:a.src)?`<img src="${i.image.src}" alt="${null===(o=i.image)||void 0===o?void 0:o.altText}"/>`:`<img src="https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e83a3654bfbfa1aa178d629_placeholder.jpg" alt="${n.title}"/>`}\n              <div class="cart-item-details">\n                <p class="cart-item-title">${n.title}</p>\n                ${n.subtitle.toLowerCase().includes("default title")?"":`<p class='cart-item-subtitle'>${n.subtitle}</p>`}\n                <p class="cart-item-price" data-value=${i.id}></p>\n                <div class="quantity">\n                  <button class="quantity-button quantity-down">-</button>\n                  <input class="qtySelector" type="number" min="0" value="${n.quantity}" data-value="${i.id}" />\n                  <button class="quantity-button quantity-up">+</button>\n                </div>\n                <span class="cart-item-remove" data-value="${n.id}">Remove</span>\n              </div>\n            </div>\n          `);const r=t("#cartLineItems").find(".cart-item-price").val(i.id)[e];y(i,r),l++}));const e=n.reduce((t,n)=>t+n.quantity,0);t("#cartCount").text(e)}}else t("#cartEmpty").show(),t("#checkoutButton").hide(),t("#cartCount").text(0)},q=async function(t){l=0,h(!0);const n=f(s),a=f(u),o=[t],i=k(a,t)[0];await e.checkout.removeLineItems(n,o).then((function(t){v(t.lineItems)})).catch(t=>console.log("Couldn't remove item from checkout: ",t)),i&&i.id===t&&await e.checkout.removeDiscount(n).then(t=>{}),h(!1),O()},P=async function(t,n){l=0,m(!0),h(!0);const a=f(s),o=[{id:t,quantity:n}];await e.checkout.updateLineItems(a,o).then((function(t){v(t.lineItems)})).catch(t=>console.log("Couldn't update items in checkout: ",t)),m(!1),h(!1),O()},S=async function(){h(!0);const t=f(s);await e.checkout.fetch(t).then(t=>{t.webUrl&&(location.href=t.webUrl)})},x=function(t,n){var e;null===(e=t.data("product"))||void 0===e||e.title;const o=k(t.data("product").variants,n)[0],i=parseInt(t.find(".qtySelector").val(),10);"undefined"!=typeof fbq&&fbq("track","AddToCart",{value:parseInt(o.priceV2.amount,10),currency:a.defaultCurrency,content_type:"product_group",content_ids:o.sku,content_category:o.title,content_name:o.title,num_items:i||1})}}(jQuery)},function(t,n,e){}]);
//# sourceMappingURL=app.bundle.min.js.map