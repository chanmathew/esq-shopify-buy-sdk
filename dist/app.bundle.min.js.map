{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./src/js/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","runtime","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","arg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","makeInvokeMethod","fn","obj","err","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","result","__await","then","unwrapped","error","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","toString","keys","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","client","clientSettings","upsellSettings","initCount","itemCount","slickInitCount","checkoutUpsellDisplayCount","lsCheckoutId","lsCartId","cartOpen","modalOpen","checkoutUpsellModalOpen","$","plugin","options","a","extend","domain","storefrontAccessToken","productHandle","defaultOption","defaultCurrency","defaultRegion","setup","createClient","fetchProduct","initPlugin","createContainer","createProduct","setDefaultOption","setDefaultColor","setSelectedText","createCart","createCartAndCheckoutId","createCartItems","attachListeners","ShopifyBuy","buildClient","hide","data","append","singleVariant","createPrices","productOptions","colorOptions","createOptions","createColors","optionsAndVariants","each","productOptionIndex","productOption","container","find","id","attr","firstVariant","variants","available","pricesContainer","filter","variant","optionsContainer","insertAfter","empty","index","swatchName","title","split","replace","toLowerCase","product","text","defaultOptionElement","availableVariants","reduce","acc","currentOption","some","includes","element","el","availableColors","blackBrown","dataset","black","others","handleQuantity","on","e","target","css","siblings","val","oldValue","parseInt","handleCartQuantity","qtySelector","variantId","closest","qty","updateItems","selectedUnit","selectedColor","substring","toUpperCase","existingCheckoutId","JSON","parse","localStorage","getItem","checkout","fetch","lineItems","extractLineItems","catch","console","log","persistToLocalStorage","option","event","stopPropagation","stopImmediatePropagation","toggleCart","toggleModal","toggleCheckoutUpsellModal","addItems","removeItems","pluginUpsell","heading","headingColor","discountCode","discountType","discountAmount","upsellOnCheckout","cartUpsell","checkoutUpsells","upsellDisplayCount","fetchFromLocalStorage","firstImage","images","src","altText","descriptionHtml","galleryContainer","img","dropdown","modalContainer","productVariant","upsells","map","item","productContainer","priceContainer","recursiveArraySearch","selectedUpsell","addUpsellItem","trackFbEvent","addDiscountToCheckout","toggleClass","fadeToggle","slick","arrows","dots","valueJson","stringify","setItem","newLineItems","subtitle","setAddToCartLoading","boolean","not","show","setCheckoutLoading","formatPrices","formatToCurrency","variantPrices","presentmentPrices","results","price","currencyCode","formattedPrice","formattedComparePrice","compareAtPrice","priceFormatter","Intl","NumberFormat","style","currency","maximumSignificantDigits","amount","format","comparePrice","formattedPrices","numericPrices","variableValues","discountPrice","comparePriceFormatted","discountPriceFormatted","getOptionValues","array","searchString","search","row","indexOf","html","fetchByHandle","response","unitOptions","bundleOptions","optionName","quantity","itemsToAdd","currentCheckoutId","addLineItems","toggleElement","selectedVariantId","selectedOption","addDiscount","cartItems","image","totalCartQty","itemsToRemove","matchingVariant","removeLineItems","removeDiscount","itemsToUpdate","updateLineItems","webUrl","location","href","productVariantShopifyId","exec","atob","fbq","priceV2","content_type","content_ids","content_category","content_name","num_items","jQuery"],"mappings":"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","file":"app.bundle.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","// Import Babel regenerator\nimport regeneratorRuntime from 'regenerator-runtime'\n\n// Define variables\nlet initCount = 0\nlet itemCount = 0\nlet slickInitCount = 0\nlet checkoutUpsellDisplayCount = 0\nlet lsCheckoutId = 'esq_eyeliner_checkout_id'\nlet lsCartId = 'esq_eyeliner_cart'\nlet lsCheckoutUpsellDisplayCount = 'esq_checkout_upsell_display_count'\nlet cartOpen = false\nlet modalOpen = false\nlet checkoutUpsellModalOpen = false\nlet client\nlet clientSettings\nlet upsellSettings\nlet upsellVariantId\n\n  // Begin Plugin\n;(function ($) {\n  $.fn.plugin = async function (options) {\n    const self = this\n    clientSettings = $.extend(\n      {\n        domain: 'esqido.com',\n        storefrontAccessToken: '05f86644045cc5fc6cc10718814e3f31',\n        productHandle: 'gel-liner-pencil',\n        defaultOption: '2-Pack',\n        defaultCurrency: 'USD',\n        defaultRegion: 'en-US',\n      },\n      options\n    )\n    const setup = async function () {\n      createClient()\n      await fetchProduct(self, clientSettings.productHandle)\n    }\n    const initPlugin = async function () {\n      createContainer()\n      createProduct()\n      setDefaultOption()\n      setDefaultColor()\n      setSelectedText()\n      createCart()\n      await createCartAndCheckoutId()\n      createCartItems()\n      attachListeners()\n      initCount++\n    }\n    const createClient = function () {\n      const { domain, storefrontAccessToken } = clientSettings\n      client = ShopifyBuy.buildClient({\n        domain,\n        storefrontAccessToken,\n      })\n    }\n    const createContainer = function () {\n      $('.productSpinner').hide()\n      // If the product has options (not a single variant which only has an option of \"Title\")\n      const productOptions = self.data('productOptions')\n      if (productOptions) {\n        self.append(`\n          <div class=\"productOptions\"></div>\n          <div class=\"addToCartWrapper\">\n            <div class=\"quantity\">\n              <button class=\"quantity-button quantity-down\">-</button>\n                <input class=\"qtySelector\" type=\"number\" value=\"1\" min=\"1\" />\n              <button class=\"quantity-button quantity-up\">+</button>\n            </div>\n            <button class=\"btn addToCart\">\n              <img class=\"spinner\" src=\"https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796\" alt=\"Loading Checkout\" />\n              <span class=\"addToCartText\">Add To Cart</span>\n            </button>\n          </div>\n        `)\n      } else {\n        const singleVariant = self.data('singleVariant')\n        createPrices(singleVariant, self)\n        self.append(`\n          <span class=\"addToCartWrapper\">\n            <div class=\"quantity\">\n              <button class=\"quantity-button quantity-down\">-</button>\n                <input class=\"qtySelector\" type=\"number\" value=\"1\" min=\"1\" />\n              <button class=\"quantity-button quantity-up\">+</button>\n            </div>\n            <button class=\"btn addToCart\">\n              <img class=\"spinner\" src=\"https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796\" alt=\"Loading Checkout\" />\n              <span class=\"addToCartText\">Add To Cart</span>\n            </button>\n          </div>\n        `)\n      }\n    }\n    // Only render product options if the product has options or colors\n    const createProduct = function () {\n      const productOptions = self.data('productOptions')\n      const colorOptions = self.data('colorOptions')\n      if (productOptions) {\n        createOptions()\n      }\n      if (colorOptions) {\n        createColors(clientSettings.defaultOption)\n      }\n    }\n    // Render unit options\n    const createOptions = function () {\n      const optionsAndVariants = self.data('optionsAndVariants')\n      if (optionsAndVariants) {\n        $.each(optionsAndVariants, function (\n          productOptionIndex,\n          productOption\n        ) {\n          const container = self.find('.productOptions')\n          const id = self.attr('id')\n          const firstVariant = productOption.variants[0]\n          // First create the label and input for each product option\n          $(container).append(`\n            <label class=\"unit-option-label ${\n              !firstVariant.available ? 'unavailable' : ''\n            }\">\n              <input class=\"unit-option\" type=\"radio\" name=\"unit-option-${id}\" value='${\n            firstVariant.id\n          }' data-value='${productOption.name}' ${\n            !firstVariant.available ? 'disabled' : ''\n          }/>\n              ${productOption.name}\n            </label>\n          `)\n          // Get the price of any variant within that product option\n          const pricesContainer = container.find('.unit-option-label')[\n            productOptionIndex\n          ]\n          createPrices(firstVariant, pricesContainer, clientSettings)\n        })\n      }\n    }\n    const createColors = function (productOption) {\n      const optionsAndVariants = self.data('optionsAndVariants')\n      const colorOptions = self.data('colorOptions')\n      // Only render color swatches if it has color variants\n      if (colorOptions && productOption) {\n        // Find the variants for the matching option\n        const variants = optionsAndVariants.filter(\n          (variant) => variant.name === productOption\n        )[0]?.variants\n        // Append new container for productVariants\n        const optionsContainer = self.find('.productOptions')\n        const variantContainer = self.find('.productVariants')\n        if (!variantContainer.length) {\n          $(`\n            <div class=\"productVariants\"></div>\n            <p class=\"currentSelectedVariant\">\n              Selected: <span>Please choose an option</span>\n            </p>\n          `).insertAfter(optionsContainer)\n        }\n        let id = self.attr('id')\n        const container = self.find('.productVariants')\n        $(container).empty()\n        // Render color swatches\n        $.each(variants, function (index, variant) {\n          let swatchName = variant.title\n            .split(' / ')[1]\n            .replace(', ', '-')\n            .toLowerCase()\n          $(container).append(`\n          <label class=\"variant-option-label ${\n            !variant.available ? 'unavailable' : ''\n          }\" data-value=${swatchName}>\n              <input class=\"variant-option\" type=\"radio\" name=\"color-option-${id}\" data-value=${swatchName} value=${variant.id} ${!variant.available ? 'disabled' : ''}>\n          </label>\n        `)\n        })\n      }\n    }\n    const setDefaultOption = function () {\n      const singleVariant = self.data('singleVariant')\n      const product = self.data('product')\n      // Check if it's a single variant product, if it's sold out, disable the ATC button\n      if (singleVariant && !product.available) {\n        self.find('.addToCart').text('Sold Out').attr('disabled', true)\n      }\n      // Check if the product has options\n      const optionsAndVariants = self.data('optionsAndVariants')\n      if (optionsAndVariants) {\n        // Find the unit option that matches the defaultOption defined in settings\n        const defaultOptionElement = self.find(\n          `.unit-option[data-value='${clientSettings.defaultOption}']`\n        )\n        // Find all available variants\n        const availableVariants = optionsAndVariants.reduce(\n          (acc, currentOption) => {\n            // If the current variant is available\n            let variants = currentOption.variants.filter((variant) => {\n              return variant.available\n            })\n            if (variants.length) {\n              acc.push(...variants)\n            }\n            return acc\n          },\n          []\n        )\n        if (!availableVariants.length) {\n          self.find('.addToCart').text('Sold Out').attr('disabled', true)\n        }\n        // Find matching variantId in availableVariants array\n        const matchFound = availableVariants.some((variant) =>\n          variant.title.includes(clientSettings.defaultOption)\n        )\n        // If found, select the defaultOptionElement\n        if (matchFound) {\n          $(defaultOptionElement).attr('checked', true)\n        } else {\n          // Else, select another option element\n          const element = self.find('.unit-option')\n          $.each(element, function (i, el) {\n            if ($(el).data('value') !== clientSettings.defaultOption) {\n              $(el).attr('checked', true)\n            }\n          })\n        }\n      }\n    }\n    const setDefaultColor = function () {\n      // Check if there are colors that are available (in stock)\n      const availableColors = self.find('.variant-option:enabled')\n      if (availableColors.length) {\n        const blackBrown = availableColors.filter(\n          (i, el) => el.dataset.value === 'black-brown'\n        )\n        const black = availableColors.filter(\n          (i, el) => el.dataset.value === 'black'\n        )\n        const others = availableColors.filter((i, el) => {\n          return (\n            el.dataset.value !== 'black-brown' || el.dataset.value !== 'black'\n          )\n        })\n        if (blackBrown.length) {\n          return $(blackBrown[0]).attr('checked', true)\n        } else if (black.length) {\n          return $(black[0]).attr('checked', true)\n        } else {\n          return $(others[0]).attr('checked', true)\n        }\n      }\n    }\n    const handleQuantity = function () {\n      // Change background color of quantity buttons on click\n      $('body').on('mousedown', '.quantity-button', function (e) {\n        $(e.target).css('background-color', '#eee')\n      })\n      $('body').on('mouseup', '.quantity-button', function (e) {\n        $(e.target).css('background-color', '#fff')\n      })\n      // Increment or decrement the target quantity\n      self.on('click', '.quantity-down', function (e) {\n        let qtySelector = $(this).siblings('.qtySelector')\n        qtySelector.val(function (i, oldValue) {\n          if (oldValue > 1) {\n            return parseInt(oldValue, 10) - 1\n          } else {\n            return parseInt(oldValue, 10)\n          }\n        })\n      })\n      self.on('click', '.quantity-up', function () {\n        let qtySelector = $(this).siblings('.qtySelector')\n        qtySelector.val(function (i, oldValue) {\n          return parseInt(oldValue, 10) + 1\n        })\n      })\n    }\n    const handleCartQuantity = function () {\n      // Cart only needs event listeners once\n      if (initCount === 0) {\n        // Target cart quantity selectors\n        $('#cartLineItems').on('click', '.quantity-down', function (e) {\n          let qtySelector = $(this).siblings('.qtySelector')\n          qtySelector.val(function (i, oldValue) {\n            if (oldValue >= 1) {\n              return parseInt(oldValue, 10) - 1\n            } else {\n              return parseInt(oldValue, 10)\n            }\n          })\n          const variantId = $(this).closest('.cart-item').data().value\n          const qty = parseInt(qtySelector.val(), 10)\n          updateItems(variantId, qty)\n        })\n        $('#cartLineItems').on('click', '.quantity-up', function () {\n          let qtySelector = $(this).siblings('.qtySelector')\n          qtySelector.val(function (i, oldValue) {\n            return parseInt(oldValue, 10) + 1\n          })\n          const variantId = $(this).closest('.cart-item').data().value\n          const qty = parseInt(qtySelector.val(), 10)\n          updateItems(variantId, qty)\n        })\n      }\n    }\n    const setSelectedText = function () {\n      const colorOptions = self.data('colorOptions')\n      if (colorOptions?.length) {\n        const selectedUnit = self.find('.unit-option:checked').data('value')\n        let selectedColor = self.find('.variant-option:checked').data('value')\n        if (selectedColor === 'black-brown') {\n          selectedColor = '1 x Black, 1 x Brown'\n        } else {\n          selectedColor =\n            selectedColor.substring(0, 1).toUpperCase() +\n            selectedColor.substring(1, selectedColor.length)\n        }\n        self\n          .find('.currentSelectedVariant span')\n          .text(`${selectedUnit} - ${selectedColor}`)\n      }\n    }\n    /*\n      Cart Functions\n    */\n    const createCart = function () {\n      if (initCount === 0) {\n        $('#cartWrapper').empty().append(`\n          <div id=\"cartHeader\">\n            <h3>Your Bag</h3>\n            <button id=\"closeCart\">\n              <img src=\"https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e7b70d9dd8fc24bf01bc3be_close.svg\" alt=\"Close Bag\" />\n            </button>\n          </div>\n          <div id=\"cartLineItems\">\n          </div>\n          <div id=\"cartEmpty\">\n              <p>Your bag's empty 🛍. Go shopping!</p>\n          </div>\n          <button id=\"checkoutButton\" class=\"btn\">\n            <img class=\"spinner\" src=\"https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796\" alt=\"Loading Checkout\" />\n            <span id=\"checkoutButtonText\">Checkout</span>\n          </button>\n        `)\n      }\n    }\n    const createCartAndCheckoutId = async function () {\n      if (initCount === 0) {\n        /* \n        IMPORANT: \n        Only 1 checkout is created for every instance on the same page / URL.\n        This ensures we can run multiple instances of this Jquery plugin to render multiple products on the same page with a unified cart\n      */\n        // Check if checkout exists in localstorage\n        const existingCheckoutId = JSON.parse(\n          localStorage.getItem(lsCheckoutId)\n        )\n        // If checkout exists, fetch checkout by checkoutId\n        if (existingCheckoutId) {\n          await client.checkout\n            .fetch(existingCheckoutId)\n            .then(function (checkout) {\n              if (checkout?.lineItems?.length) {\n                extractLineItems(checkout.lineItems)\n              }\n              createCartItems()\n            })\n            .catch((error) => {\n              console.log(\"Couldn't fetch checkout: \", error)\n            })\n        } else {\n          await client.checkout\n            .create()\n            .then(function (checkout) {\n              // Save new checkout ID to localstorage\n              if (checkout && checkout.id) {\n                persistToLocalStorage(lsCheckoutId, checkout.id)\n              }\n            })\n            .catch((error) =>\n              console.log(\"Couldn't create new checkout: \", error)\n            )\n        }\n      }\n    }\n    /*\n      Event Listeners \n    */\n    const attachListeners = function () {\n      const option = self.find('.unit-option')\n      $(option).on('click', function (e) {\n        createColors(e.target.dataset.value)\n        setDefaultColor()\n      })\n      // Do not attach listeners more than once\n      if (initCount === 0) {\n        // Render colors when unit options are changed\n        // Toggle cart drawer\n        $('body').on(\n          'click',\n          '#overlay, #openCart, .addToCart, #closeCart',\n          function (e) {\n            event.stopPropagation()\n            event.stopImmediatePropagation()\n            toggleCart()\n          }\n        )\n        $('body').on('click', '#modalOverlay', function (e) {\n          event.stopPropagation()\n          event.stopImmediatePropagation()\n          if (modalOpen) {\n            toggleModal()\n          } else if (checkoutUpsellModalOpen) {\n            toggleCheckoutUpsellModal()\n          }\n        })\n      }\n      // Add to cart handler\n      self.find('.addToCart').on('click', function (e) {\n        addItems(self, 'cart')\n      })\n      // Handle removing line items in cart\n      $('body').on('click', '.cart-item-remove', function (e) {\n        removeItems(e.target.dataset.value)\n      })\n      // Checkout handler\n      $('body').on('click', '#checkoutButton', async function (e) {\n        e.stopPropagation()\n        e.stopImmediatePropagation()\n        await checkout()\n      })\n      // Set selected text for Liner\n      self.on('click', '.unit-option, .variant-option', function (e) {\n        setSelectedText()\n      })\n      // Handle quantity inputs and buttons\n      handleQuantity()\n      handleCartQuantity()\n    }\n    // Call API and fetch product\n    await setup()\n    // Only render plugin if product exists\n    const product = self.data('product')\n    if (product) {\n      await initPlugin()\n    }\n  }\n  $.fn.pluginUpsell = async function (options) {\n    const self = this\n    upsellSettings = $.extend(\n      {\n        heading: 'You might also like',\n        headingColor: '#555555',\n        discountCode: null,\n        discountType: null,\n        discountAmount: null,\n        upsellOnCheckout: true,\n        cartUpsell: null,\n        checkoutUpsells: [\n          'unisyn-classic-bundle',\n          'unisyn-wispy-bundle',\n          'unisyn-glam-bundle',\n        ],\n      },\n      options\n    )\n    if (!client) {\n      console.log('Please initialize Client first.')\n    } else {\n      // Define the LS key for checkout upsell count\n      const upsellDisplayCount = fetchFromLocalStorage(\n        lsCheckoutUpsellDisplayCount\n      )\n      if (upsellSettings.upsellOnCheckout) {\n        if (upsellDisplayCount) {\n          checkoutUpsellDisplayCount = upsellDisplayCount\n        } else {\n          persistToLocalStorage(lsCheckoutUpsellDisplayCount, 0)\n        }\n      }\n      if (upsellSettings.cartUpsell) {\n        await fetchProduct(self, upsellSettings.cartUpsell)\n        const product = self.data('product')\n        if (product) {\n          const optionsAndVariants = self.data('optionsAndVariants')\n          const firstImage = product.images[0]\n          if (initCount === 0) {\n            $(self).append(`\n              <h3 class=\"cartUpsellTitle\" style=\"color: ${upsellSettings.headingColor}\">${upsellSettings.heading}</h3>\n            `)\n          }\n          $('#cartUpsells').append(`\n            <div class=\"upsellItem\">\n              <img class=\"upsellItemImage\" src=\"${firstImage.src}\" alt=\"${\n            firstImage.altText\n          }\">\n              <div class=\"upsellItemDetails\">\n                <a class=\"upsellItemTitle\">${product.title}</a>\n                ${\n                  optionsAndVariants\n                    ? `<select class=\"upsellProductOption\"></select>`\n                    : ''\n                }\n                <p class=\"upsellItemPrices\"></p>\n              </div>\n              <button class=\"btn upsellAddToCart\">\n                <img class=\"spinner\" src=\"https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796\" alt=\"Loading Checkout\" />\n                <span class=\"addToCartText\">Add</span>\n              </button>\n            </div>\n          `)\n          $('body').append(`\n            <div id=\"modalOverlay\"></div>\n            <div id=\"upsellItemModal\" class=\"upsellModal\">\n              <div id=\"upsellModalContainer\">\n                <div class=\"upsellItemGalleryContainer\">\n                  <div class=\"upsellItemGallery\"></div>\n                </div>\n                <div class=\"upsellItemDetails\">\n                  <a class=\"upsellItemTitle\">${product.title}</a>\n                  ${\n                    optionsAndVariants\n                      ? `<select class=\"upsellProductOption\"></select>`\n                      : ''\n                  }\n                  <p class=\"upsellItemPrices\"></p>\n                  <div class=\"upsellItemDescription\">${\n                    product.descriptionHtml\n                  }</div>\n                  <button class=\"btn upsellAddToCart\">\n                    <img class=\"spinner\" src=\"https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796\" alt=\"Loading Checkout\" />\n                    <span class=\"addToCartText\">Add To Cart</span>\n                  </button>\n                </div>\n                <button id=\"closeModal\">\n                  <img src=\"https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e7b70d9dd8fc24bf01bc3be_close.svg\" alt=\"Close\" />\n                </button>\n              </div>\n            </div>\n          `)\n          const galleryContainer = $('#upsellItemModal').find(\n            '.upsellItemGallery'\n          )\n          $.each(product.images, function (i, img) {\n            $(galleryContainer).append(`\n            <img class=\"upsellItemImage\" src=\"${img.src}\" alt=\"${img.altText}\">\n            `)\n          })\n          if (optionsAndVariants) {\n            $.each(optionsAndVariants, function (\n              productOptionIndex,\n              productOption\n            ) {\n              const dropdown = $('body').find('.upsellProductOption')\n\n              const container = self.find('.upsellItem')\n              const id = self.attr('id')\n              const firstVariant = productOption.variants[0]\n              // First create the label and input for each product option\n              $(dropdown).append(`\n                <option class=\"unit-option\" value='${\n                  firstVariant.id\n                }' data-value='${productOption.name}' ${\n                !firstVariant.available ? 'disabled' : ''\n              }>\n                  ${productOption.name}\n                </option>\n              `)\n              // Get the price of any variant within that product option\n              const pricesContainer = container.find('.upsellItemPrices')[\n                productOptionIndex\n              ]\n              const modalContainer = $('#upsellItemModal').find(\n                '.upsellItemPrices'\n              )[productOptionIndex]\n              createPrices(firstVariant, pricesContainer)\n              createPrices(firstVariant, modalContainer)\n            })\n          } else {\n            const productVariant = product.variants[0]\n            const pricesContainer = self.find('.upsellItemPrices')\n            const modalContainer = $('#upsellItemModal').find(\n              '.upsellItemPrices'\n            )\n            createPrices(productVariant, pricesContainer)\n            createPrices(productVariant, modalContainer)\n          }\n        }\n      }\n      if (upsellSettings.upsellOnCheckout) {\n        const upsells = upsellSettings?.checkoutUpsells\n        $('body').append(`\n            <div id=\"modalOverlay\"></div>\n            <div id=\"checkoutUpsellModal\" class=\"upsellModal\">\n              <div id=\"checkoutUpsellModalContainer\">\n                <p class=\"checkoutSpsellModalSubhead\">Customize Your Order</p>\n                <h3>Add an Esqido Premium Lashes Kit at -40% OFF!</h3>\n                <div class=\"upsellHighlights\">\n                  <div class=\"upsellHighlightItem\">\n                    <img src=\"https://cdn.shopify.com/s/files/1/0250/1519/t/27/assets/time-icon.svg?v=1269636006768805444\" alt=\"\">\n                    <p>Highests Quality Materials That Lasts Up to 20-25 Wears</p>\n                  </div>\n                  <div class=\"upsellHighlightItem\">\n                    <img src=\"https://cdn.shopify.com/s/files/1/0250/1519/t/27/assets/eyelash-icon.svg?v=17637281597508357764\" alt=\"\">\n                    <p>Unisyn™ Technology Makes Them Ultra-natural Looking</p>\n                  </div>\n                  <div class=\"upsellHighlightItem\">\n                    <img src=\"https://cdn.shopify.com/s/files/1/0250/1519/t/27/assets/curler-icon.svg?v=18141781665275607000\" alt=\"\">\n                    <p>Recommended by A-list Celebs and Pro Make Up Artists</p>\n                  </div>\n                </div>\n                <div class=\"upsellItemListing\"></div>\n                <button id=\"skipCheckoutUpsell\" class=\"btn secondary\">No thanks, take me to checkout</button>\n                <button id=\"closeModal\">\n                  <img src=\"https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e7b70d9dd8fc24bf01bc3be_close.svg\" alt=\"Close\" />\n                </button>\n              </div>\n            </div>\n          `)\n        if (upsells.length) {\n          const container = $('#checkoutUpsellModal').find('.upsellItemListing')\n          await upsells.map(async (item, i) => {\n            container.append(`\n                <div class=\"checkoutUpsellProduct product-${i}\">\n                </div>\n              `)\n            const productContainer = container.find(`.product-${i}`)\n            await fetchProduct(productContainer, item)\n            const product = productContainer.data('product')\n            productContainer.append(`\n                <div class=\"checkoutUpsellItemGalleryContainer\">\n                  <div class=\"checkoutUpsellItemGallery\"></div>\n                </div>\n                <p class=\"upsellItemTitle\">${product.title}</p>\n                <p class=\"upsellItemPrices\"></p>\n                <div class=\"upsellItemDescription\">${product.descriptionHtml}</div>\n                <button class=\"btn checkoutUpsellAddToCart\" value=\"${product.variants[0].id}\">\n                  <img class=\"spinner\" src=\"https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796\" alt=\"Loading Checkout\" />\n                  <span class=\"addToCartText\">Add & Checkout</span>\n                </button>\n              `)\n            const priceContainer = productContainer.find('.upsellItemPrices')\n            const galleryContainer = productContainer.find(\n              '.checkoutUpsellItemGallery'\n            )\n            $.each(product.images, function (i, img) {\n              $(galleryContainer).append(`\n                <img class=\"checkoutUpsellImage\" src=\"${img.src}\" alt=\"${img.altText}\">\n              `)\n            })\n            product.variants.map((variant) =>\n              createPrices(variant, priceContainer)\n            )\n          })\n        }\n      }\n      /*\n          Upsell Event Listeners \n        */\n      // Check when the variant option changes for the upsell in cart\n      $('#cart').on('change', '.upsellProductOption', function (e) {\n        const variant = recursiveArraySearch(\n          product.variants,\n          e.target.value\n        )[0]\n        const container = self.find('.upsellItemPrices').empty()\n        createPrices(variant, container)\n      })\n      // Check when the variant option changes for the upsell in modal\n      $('#upsellItemModal').on('change', '.upsellProductOption', function (e) {\n        const variant = recursiveArraySearch(\n          product.variants,\n          e.target.value\n        )[0]\n        const container = $('#upsellItemModal')\n          .find('.upsellItemPrices')\n          .empty()\n        if (upsellSettings?.discountCode) {\n          createPrices(variant, container)\n        } else {\n          createPrices(variant, container)\n        }\n      })\n      self.find('.upsellAddToCart').on('click', function (e) {\n        const selectedUpsell = self.find('.unit-option:selected')\n        const productVariant = self.data('optionsAndVariants')\n          ? selectedUpsell.val()\n          : self.data('product').variants[0].id\n        addUpsellItem(productVariant)\n        // Add event to FB\n        trackFbEvent(self, productVariant)\n        if (upsellSettings?.discountCode) {\n          addDiscountToCheckout(upsellSettings.discountCode)\n        }\n      })\n      // Listen for the selected upsell in the modal separately because it has its own dropdown\n      $('#upsellItemModal').on('click', '.upsellAddToCart', function (e) {\n        const selectedUpsell = $('#upsellItemModal').find(\n          '.unit-option:selected'\n        )\n        // If the product has variants, get the ID of the selected variant, otherwise just pass the first variant ID\n        const productVariant = self.data('optionsAndVariants')\n          ? selectedUpsell.val()\n          : self.data('product').variants[0].id\n        addUpsellItem(productVariant)\n        // Add event to FB\n        trackFbEvent(self, productVariant)\n        if (upsellSettings?.discountCode) {\n          addDiscountToCheckout(upsellSettings.discountCode)\n        }\n      })\n      $('body').on('click', '.upsellItemTitle, #closeModal', function (e) {\n        if (cartOpen) {\n          toggleCart()\n        } else if (modalOpen) {\n          toggleModal()\n        } else if (checkoutUpsellModalOpen) {\n          toggleCheckoutUpsellModal()\n        }\n      })\n      // Checkout Upsell event listeners\n      $('#checkoutUpsellModal').on(\n        'click',\n        '.checkoutUpsellAddToCart',\n        async function (e) {\n          e.stopPropagation()\n          e.stopImmediatePropagation()\n          await addUpsellItem(this.value)\n          await checkout()\n        }\n      )\n      $('#skipCheckoutUpsell').on('click', async function (e) {\n        await checkout()\n      })\n    }\n  }\n  /*\n      Helper Functions\n    */\n  const toggleModal = function () {\n    modalOpen = !modalOpen\n    $('body').toggleClass('modalOpen')\n    $('#upsellItemModal').fadeToggle()\n    if (modalOpen && slickInitCount === 0) {\n      $('.upsellItemGallery').slick({\n        arrows: true,\n        dots: true,\n      })\n      slickInitCount++\n    }\n  }\n  const toggleCheckoutUpsellModal = function () {\n    checkoutUpsellModalOpen = !checkoutUpsellModalOpen\n    $('body').toggleClass('modalOpen')\n    $('#checkoutUpsellModal').fadeToggle()\n    if (checkoutUpsellModalOpen && slickInitCount === 0) {\n      $('.checkoutUpsellItemGallery').slick({\n        arrows: true,\n        dots: true,\n      })\n      slickInitCount++\n    }\n  }\n  const persistToLocalStorage = function (key, value) {\n    let valueJson = JSON.stringify(value)\n    localStorage.setItem(key, valueJson)\n  }\n  const fetchFromLocalStorage = function (key) {\n    return JSON.parse(localStorage.getItem(key))\n  }\n  const extractLineItems = function (lineItems) {\n    if (lineItems?.length) {\n      const newLineItems = lineItems.map((item) => {\n        return {\n          title: item.title,\n          subtitle: item.variant.title,\n          ...item,\n        }\n      })\n      persistToLocalStorage(lsCartId, newLineItems)\n    } else {\n      persistToLocalStorage(lsCartId, [])\n    }\n  }\n  const setAddToCartLoading = function (boolean) {\n    const element = $('.addToCart').not(':contains(\"Sold Out\")')\n    if (element) {\n      if (boolean) {\n        element.attr('disabled', true)\n        element.find('.addToCartText').hide()\n        element.find('.spinner').show()\n      } else {\n        element.attr('disabled', false)\n        element.find('.spinner').hide()\n        element.find('.addToCartText').show()\n      }\n    }\n  }\n  const setCheckoutLoading = function (boolean) {\n    if (boolean) {\n      $('#checkoutButton').attr('disabled', true)\n      $('#checkoutButtonText').hide()\n      $('#checkoutButton .spinner').show()\n    } else {\n      $('#checkoutButton').attr('disabled', false)\n      $('#checkoutButton .spinner').hide()\n      $('#checkoutButtonText').show()\n    }\n  }\n  const toggleCart = function () {\n    cartOpen = !cartOpen\n    $('body').toggleClass('cartOpen')\n  }\n  const formatPrices = function (variant, formatToCurrency = true) {\n    let variantPrices = null\n    if (variant && variant?.presentmentPrices?.length) {\n      const results = variant.presentmentPrices.filter(\n        (item) => item.price.currencyCode === clientSettings.defaultCurrency\n      )\n      if (results?.length) {\n        variantPrices = results[0]\n      }\n    }\n    if (variantPrices) {\n      const { price, compareAtPrice } = variantPrices\n      let formattedPrice\n      let formattedComparePrice\n      // Formats prices currency format, supports multi-currency\n      const priceFormatter = new Intl.NumberFormat(\n        clientSettings.defaultRegion,\n        {\n          style: 'currency',\n          currency: clientSettings.defaultCurrency,\n          maximumSignificantDigits: 4, // Trim any zeros after decimal\n        }\n      )\n      if (formatToCurrency) {\n        if (price?.amount) {\n          formattedPrice = priceFormatter.format(price.amount)\n        }\n        if (compareAtPrice?.amount) {\n          formattedComparePrice = priceFormatter.format(compareAtPrice.amount)\n        }\n        return {\n          price: formattedPrice,\n          comparePrice: formattedComparePrice\n            ? formattedComparePrice\n            : formattedPrice,\n        }\n      } else {\n        return {\n          price: price?.amount,\n          comparePrice: compareAtPrice?.amount,\n        }\n      }\n    }\n  }\n  // Render product variant pricing\n  const createPrices = function (variant, container) {\n    if (variant && container) {\n      // If it's a single variant product\n      const singleVariant = variant.length === 1\n      const formattedPrices = formatPrices(variant)\n      const numericPrices = formatPrices(variant, false)\n      const discountType = upsellSettings?.discountType\n      const discountAmount = upsellSettings?.discountAmount\n      let productHandle\n      if (variant?.variableValues) {\n        productHandle = variant.variableValues.handle\n      } else if (variant?.product) {\n        productHandle = variant.product.handle\n      }\n      const priceFormatter = new Intl.NumberFormat(\n        clientSettings.defaultRegion,\n        {\n          style: 'currency',\n          currency: clientSettings.defaultCurrency,\n          maximumSignificantDigits: 4, // Trim any zeros after decimal\n        }\n      )\n      const isUpsellItem = productHandle === upsellSettings.cartUpsell\n      if (isUpsellItem && discountType) {\n        const { price, comparePrice } = numericPrices\n        const comparePriceFormatted = formattedPrices?.comparePrice\n        let discountPrice\n        if (discountType === 'percentage') {\n          if (comparePrice) {\n            discountPrice = comparePrice * (discountAmount / 100)\n          } else {\n            discountPrice = price * (discountAmount / 100)\n          }\n        } else if (discountType === 'fixed') {\n          if (comparePrice) {\n            discountPrice = comparePrice - discountAmount\n          } else {\n            discountPrice = price - discountAmount\n          }\n        }\n        const discountPriceFormatted = priceFormatter.format(discountPrice)\n        $(container).append(`\n            <p class=\"unit-price ${\n              singleVariant ? 'single-product-price' : ''\n            } ${discountPrice < price ? 'sale-price' : ''}\">${\n          discountPrice < price\n            ? \"<span class='unit-compare-price'>\" +\n              comparePriceFormatted +\n              '</span>'\n            : ''\n        }\n            ${discountPriceFormatted} ${\n          clientSettings.defaultCurrency === 'USD'\n            ? clientSettings.defaultCurrency\n            : ''\n        }\n            </p>\n          `)\n      } else {\n        const { price, comparePrice } = formattedPrices\n        if (formattedPrices) {\n          $(container).append(`\n          <p class=\"unit-price ${singleVariant ? 'single-product-price' : ''} ${\n            comparePrice > price ? 'sale-price' : ''\n          }\">${\n            comparePrice > price\n              ? \"<span class='unit-compare-price'>\" + comparePrice + '</span>'\n              : ''\n          }\n          ${price} ${\n            clientSettings.defaultCurrency === 'USD'\n              ? clientSettings.defaultCurrency\n              : ''\n          }\n          </p>\n        `)\n        }\n      }\n    }\n  }\n  const getOptionValues = function (product, name) {\n    if (product?.options) {\n      const productOptions = product.options.filter(\n        (option) => option.name.toLowerCase() === name\n      )\n      const values = productOptions[0]?.values.map((option) => option.value)\n      return values\n    }\n  }\n  const recursiveArraySearch = function (array, searchString) {\n    return array.filter(function search(row) {\n      return Object.keys(row).some((key) => {\n        if (typeof row[key] === 'string') {\n          return row[key].toLowerCase().indexOf(searchString.toLowerCase()) > -1\n        } else if (row[key] && typeof row[key] === 'object') {\n          return search(row[key])\n        }\n        return false\n      })\n    })\n  }\n  const fetchProduct = async function (container, productHandle) {\n    if (container && productHandle) {\n      const self = $(container)\n      // Render loading spinner\n      self.html(`\n      <div class=\"productSpinner\">\n        <img src=\"https://cdn.shopify.com/s/files/1/0250/1519/files/spinner.svg?v=1585762796\" alt=\"Loading Checkout\" />\n      </div>\n    `)\n      // Fetch product by product handle\n      await client.product\n        .fetchByHandle(productHandle)\n        .then((response) => {\n          const product = response\n          // Cache product data to memory\n          self.data('product', product)\n          // If product has unit and color options, save them to data\n          const unitOptions = getOptionValues(product, 'units')\n          const productOptions = product?.options\n            .filter((option) => option.name.toLowerCase() !== 'title')\n            .map((option) => option.name)\n          const colorOptions = getOptionValues(product, 'color')\n          const bundleOptions = getOptionValues(product, 'bundle')\n          const singleVariant = product?.variants?.length === 1\n          // Create a new array that contains the product variants grouped by unit options\n          let optionsAndVariants = []\n          if (unitOptions?.length) {\n            for (let index in unitOptions) {\n              let optionName = unitOptions[index]\n              let variants = recursiveArraySearch(product.variants, optionName)\n              optionsAndVariants.push({\n                name: optionName,\n                variants,\n              })\n            }\n          } else if (bundleOptions?.length) {\n            for (let index in bundleOptions) {\n              let optionName = bundleOptions[index]\n              let variants = recursiveArraySearch(product.variants, optionName)\n              optionsAndVariants.push({\n                name: optionName,\n                variants,\n              })\n            }\n          }\n          // Only cache them to data if the options exist\n          singleVariant && self.data('singleVariant', product?.variants[0])\n          productOptions?.length && self.data('productOptions', productOptions)\n          unitOptions?.length && self.data('unitOptions', unitOptions)\n          colorOptions?.length && self.data('colorOptions', colorOptions)\n          optionsAndVariants?.length &&\n            self.data('optionsAndVariants', optionsAndVariants)\n        })\n        .catch((error) => console.log(\"Couldn't fetch product: \", error))\n    }\n  }\n  const addUpsellItem = async function (variantId, qty = 1) {\n    // Reset the item count so it will rerender the cart from scratch\n    itemCount = 0\n    // Set loading states for buttons\n    setAddToCartLoading(true)\n    setCheckoutLoading(true)\n    const quantity = parseInt(qty, 10)\n    const itemsToAdd = [\n      {\n        variantId,\n        quantity,\n      },\n    ]\n    const currentCheckoutId = fetchFromLocalStorage(lsCheckoutId)\n    if (currentCheckoutId) {\n      await client.checkout\n        .addLineItems(currentCheckoutId, itemsToAdd)\n        .then(function (checkout) {\n          // Check to see if the item was added\n          if (checkout.lineItems.length) {\n            extractLineItems(checkout.lineItems)\n          }\n        })\n      // Set loading states for buttons to false\n      setAddToCartLoading(false)\n      setCheckoutLoading(false)\n      // Rerender cart\n      createCartItems()\n      if (modalOpen) {\n        toggleModal()\n      }\n      if (!cartOpen) {\n        toggleCart()\n      }\n    }\n  }\n  const addItems = async function (self, toggleElement) {\n    // Reset the item count so it will rerender the cart from scratch\n    itemCount = 0\n    // Set loading states for buttons\n    setAddToCartLoading(true)\n    setCheckoutLoading(true)\n    // Check if the cart has any items to add\n    const currentCheckoutId = fetchFromLocalStorage(lsCheckoutId)\n    let selectedVariantId\n    let selectedOption\n    // Check if the product is a single variant\n    const singleVariant = self.data('singleVariant')\n    if (singleVariant) {\n      selectedVariantId = singleVariant.id\n    } else {\n      // Get the current selected variant option and find the variant ID\n      selectedOption = self.find(\"input[type='radio']:checked\")\n      if (selectedOption?.length) {\n        selectedVariantId = selectedOption[selectedOption.length - 1]?.value\n      } else {\n        selectedVariantId = self.find('.upsellProductOption').val()\n      }\n    }\n    // Find the current specified quantity to add\n    const qty = parseInt(self.find('.qtySelector').val(), 10)\n    // Format the line items for passing into checkout api\n    const itemsToAdd = [\n      {\n        variantId: selectedVariantId,\n        quantity: qty ? qty : 1, // If there's no qtySelector set default to 1\n      },\n    ]\n    // Send event to FB\n    trackFbEvent(self, selectedVariantId)\n\n    if (currentCheckoutId) {\n      await client.checkout\n        .addLineItems(currentCheckoutId, itemsToAdd)\n        .then(function (checkout) {\n          // Check to see if the item was added\n          if (checkout.lineItems.length) {\n            extractLineItems(checkout.lineItems)\n          }\n        })\n        .catch((error) => console.log(\"Couldn't add item to checkout: \", error))\n      // Set loading states for buttons to false\n      setAddToCartLoading(false)\n      setCheckoutLoading(false)\n      // Rerender cart\n      createCartItems()\n      if (toggleElement === 'cart') {\n        toggleCart()\n      } else if (toggleElement === 'modal') {\n        toggleModal()\n        toggleCart()\n      }\n    }\n  }\n  const addDiscountToCheckout = async function (discountCode) {\n    const currentCheckoutId = fetchFromLocalStorage(lsCheckoutId)\n    if (discountCode) {\n      // Add a discount code to the checkout\n      await client.checkout\n        .addDiscount(currentCheckoutId, discountCode)\n        .then((checkout) => {})\n    }\n  }\n  const createCartItems = function () {\n    if (itemCount === 0) {\n      $('#cartLineItems').empty()\n    }\n    const cartItems = fetchFromLocalStorage(lsCartId)\n    // Render items in checkout in cart\n    if (cartItems?.length) {\n      $('#checkoutButton').show()\n      $('#cartEmpty').hide()\n      let priceCount = 0\n      // For each item in cartItems, render until they've all been rendered\n      for (itemCount; itemCount <= cartItems.length - 1; ) {\n        cartItems.map(function (item, i) {\n          const { variant } = item\n          const formattedPrices = formatPrices(variant)\n          const numericPrices = formatPrices(variant, false)\n          const { price } = numericPrices\n          const { comparePrice } = formattedPrices\n\n          $('#cartLineItems').append(`\n            <div class=\"cart-item\" data-value=\"${item.id}\">\n            ${\n              variant?.image?.src\n                ? `<img src=\"${variant.image.src}\" alt=\"${variant.image?.altText}\"/>`\n                : `<img src=\"https://uploads-ssl.webflow.com/5e70f8e5d7461820999a0cf5/5e83a3654bfbfa1aa178d629_placeholder.jpg\" alt=\"${item.title}\"/>`\n            }\n              <div class=\"cart-item-details\">\n                <p class=\"cart-item-title\">${item.title}</p>\n                ${\n                  // Don't show the variant title if it's a single variant product\n                  item.subtitle.toLowerCase().includes('default title')\n                    ? ''\n                    : `<p class='cart-item-subtitle'>${item.subtitle}</p>`\n                }\n                <p class=\"cart-item-price\" data-value=${variant.id}></p>\n                <div class=\"quantity\">\n                  <button class=\"quantity-button quantity-down\">-</button>\n                  <input class=\"qtySelector\" type=\"number\" min=\"0\" value=\"${\n                    item.quantity\n                  }\" data-value=\"${variant.id}\" />\n                  <button class=\"quantity-button quantity-up\">+</button>\n                </div>\n                <span class=\"cart-item-remove\" data-value=\"${\n                  item.id\n                }\">Remove</span>\n              </div>\n            </div>\n          `)\n          const priceContainer = $('#cartLineItems')\n            .find('.cart-item-price')\n            .val(variant.id)[i]\n          createPrices(variant, priceContainer)\n          // Increment the item count so we know we rendered all the items and won't fire on subsequent instances\n          itemCount++\n        })\n        const totalCartQty = cartItems.reduce((acc, item) => {\n          return acc + item.quantity\n        }, 0)\n        $('#cartCount').text(totalCartQty)\n      }\n    } else {\n      $('#cartEmpty').show()\n      $('#checkoutButton').hide()\n      $('#cartCount').text(0)\n    }\n  }\n  const removeItems = async function (variantId) {\n    // Reset the item count so it will rerender the cart from scratch\n    itemCount = 0\n    // Set loading states for buttons\n    setCheckoutLoading(true)\n    // Check if the cart has any items to add\n    const currentCheckoutId = fetchFromLocalStorage(lsCheckoutId)\n    const cartItems = fetchFromLocalStorage(lsCartId)\n    // Format the line items for passing into checkout api\n    const itemsToRemove = [variantId]\n    const matchingVariant = recursiveArraySearch(cartItems, variantId)[0]\n\n    await client.checkout\n      .removeLineItems(currentCheckoutId, itemsToRemove)\n      .then(function (checkout) {\n        extractLineItems(checkout.lineItems)\n      })\n      .catch((error) =>\n        console.log(\"Couldn't remove item from checkout: \", error)\n      )\n    if (matchingVariant && matchingVariant.id === variantId) {\n      await client.checkout\n        .removeDiscount(currentCheckoutId)\n        .then((checkout) => {})\n    }\n    // Set loading states for buttons to false\n    setCheckoutLoading(false)\n    // Rerender cart\n    createCartItems()\n  }\n  const updateItems = async function (variantId, qty) {\n    // Reset the item count so it will rerender the cart from scratch\n    itemCount = 0\n    // Set loading states for buttons\n    setAddToCartLoading(true)\n    setCheckoutLoading(true)\n    // Check if the cart has any items to add\n    const currentCheckoutId = fetchFromLocalStorage(lsCheckoutId)\n    // Get the current selected variant option and find the variant ID\n    // Format the line items for passing into checkout api\n    const itemsToUpdate = [\n      {\n        id: variantId,\n        quantity: qty,\n      },\n    ]\n    await client.checkout\n      .updateLineItems(currentCheckoutId, itemsToUpdate)\n      .then(function (checkout) {\n        extractLineItems(checkout.lineItems)\n      })\n      .catch((error) =>\n        console.log(\"Couldn't update items in checkout: \", error)\n      )\n    // Set loading states for buttons to false\n    setAddToCartLoading(false)\n    setCheckoutLoading(false)\n    // Rerender cart\n    createCartItems()\n  }\n  const checkout = async function () {\n    const currentCheckoutId = fetchFromLocalStorage(lsCheckoutId)\n    const upsellDisplayCount = await fetchFromLocalStorage(\n      lsCheckoutUpsellDisplayCount\n    )\n    console.log('Count:', upsellDisplayCount)\n    // If the upsell hasn't been shown to the customer yet, trigger the modal\n    if (upsellSettings?.upsellOnCheckout && upsellDisplayCount === 0) {\n      console.log('Showing upsells')\n      toggleCart()\n      toggleCheckoutUpsellModal()\n      checkoutUpsellDisplayCount++\n      persistToLocalStorage(\n        lsCheckoutUpsellDisplayCount,\n        checkoutUpsellDisplayCount\n      )\n    } else if (!upsellSettings?.upsellOnCheckout || upsellDisplayCount > 0) {\n      console.log('Checking out')\n      // If the upsell has already been shown, skip the modal and go to checkout\n      setCheckoutLoading(true)\n      await client.checkout.fetch(currentCheckoutId).then((checkout) => {\n        // Do something with the checkout\n        if (checkout.webUrl) {\n          location.href = checkout.webUrl\n        }\n      })\n    }\n  }\n  const trackFbEvent = function (self, variantId) {\n    // Add Facebook Tracking\n    const productTitle = self.data('product')?.title\n    const productVariant = recursiveArraySearch(\n      self.data('product').variants,\n      variantId\n    )[0]\n    const pattern = /\\/([0-9]+)[^\\/]*$/\n    const productVariantShopifyId = pattern.exec(\n      atob(self.data('product')?.id)\n    )[1]\n    const qty = parseInt(self.find('.qtySelector').val(), 10)\n    if (typeof fbq !== 'undefined') {\n      fbq('track', 'AddToCart', {\n        value: parseInt(productVariant.priceV2.amount, 10),\n        currency: clientSettings.defaultCurrency,\n        content_type: 'product_group',\n        content_ids: productVariantShopifyId,\n        content_category: productVariant.title,\n        content_name: productVariant.title,\n        num_items: qty ? qty : 1,\n      })\n    }\n  }\n})(jQuery)\n"],"sourceRoot":""}